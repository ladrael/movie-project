<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.itwillbs.movie.mapper.MovieRegisterMapper">

<select id="selectMovies" resultType="hashmap">
	SELECT * FROM movieinfo
</select>

<insert id="registMovie">
		INSERT INTO movieinfo
			VALUES(
				   #{info_movie_code}
				   , #{info_movie_title}
				   , #{info_movie_poster}
				   , #{info_story}
				   , #{info_year}
				   , #{info_time}
				   , #{info_showdate}
				   , #{info_enddate}
				   , '0'
			)
</insert>

<select id="selectMovie" resultType="hashmap">
	SELECT * 
	  FROM movieinfo
	 WHERE info_movie_code = #{info_movie_code}
</select>

<delete id="deleteMovie">
	DELETE 
	  FROM movieinfo
     WHERE info_movie_code = #{info_movie_code}
</delete>

<!--수정 -->
<update id="updateMovie">
	UPDATE movieinfo 
		SET info_movie_code = #{info_movie_code}
		  , info_movie_title = #{info_movie_title}
		  , info_movie_poster = #{info_movie_poster}
		  , info_story = #{info_story}
		  , info_year = #{info_year}
		  , info_time = #{info_time}
		  , info_showdate = #{info_showdate}
		  , info_enddate = #{info_enddate}
	  WHERE info_movie_code = #{info_movie_code}
</update>

<select id="selectCinema" resultType="hashmap">

	SELECT cinema_name, screen_name
	  FROM cinema 
	  LEFT JOIN screen 
	         ON cinema.cinema_code = screen.screen_cinema_code
     WHERE cinema_name = #{cinema_name};
     
</select>

<!-- info_movie_code -->
<!-- info_movie_title -->
<!-- info_movie_poster -->
<!-- info_story -->
<!-- info_year -->
<!-- info_time -->
<!-- info_showdate -->
<!-- info_enddate -->
<!-- like_count -->


















</mapper>
